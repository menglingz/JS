<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        /* 
        ajax的使用步骤： 
        1、创建XMLHttpRequest对象
        2、使用open方法设置和服务器交互的信息
        3、设置发送的数据，开始和服务器交互 
        4、注册事件
        5、更新界面
        */

        // 1、创建XMLHttpRequest对象
        var xhr = new XMLHttpRequest()
        // 2、使用open方法设置和服务器交互的信息
        /*  
        xhr.open(参数1，参数2，参数3)
        参数1：请求数据的方式 get / post
        参数2：请求地址 --- data/data.json 
        参数3： 是否是异步 true 异步 false 同步 
         */
        xhr.open('get', './data/data.json', true)

        // 3、设置发送的数据，开始和服务器交互 
        xhr.send()

        // 4、注册事件
        /*  4.1 事件监听ajax的状态：onreadystatechange
         4.2 ajax的状态：readyState 
 
             0：初始化，还没有调用open()方法
             1: 载入 已经调用send()方法，正在发送请求 
             2：载入完成，send()方法已经完成，已经收到全部响应内容  
             3: 解析 正在解析响应的内容 
             4: 完成，响应内容解析完成，可以在客户端调用了
 
         4.3 服务器的状态 status  
            1 消息
            2 成功 -- 200 
            3 重定向
            4 请求错误
            5 服务器错误
         4.4 数据：responseText
         */
        xhr.onreadystatechange = function () {
            // ajax 
            if (xhr.readyState === 4) {
                // 服务器
                if (xhr.status === 200) {
                    console.log(xhr.responseText);
                }
            }
        }

    </script>

</body>

</html>